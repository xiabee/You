/* --- åŸºç¡€è®¾ç½® --- */
:root {
  --paper-color: #fdfdfb;  /* æš–ç™½è‰²ä¿¡çº¸ */
  --text-color: #444444;  /* æŸ”å’Œæ·±ç° */
  --accent-color: #d4a5a5; /* å‘Šç™½ç²‰ */
  --shadow-color: rgba(0, 0, 0, 0.05);
}

html {
  scroll-behavior: smooth; /* å…¨å±€å¼€å¯å¹³æ»‘æ»šåŠ¨ï¼Œç”¨äºå­—å¹•è·Ÿéšæ•ˆæœ */
}

body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  /* æŸ”å’Œçš„æ¸å˜èƒŒæ™¯ï¼Œåƒæ¸…æ™¨çš„é›¾æ°” */
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  font-family: "Noto Serif SC", "Source Han Serif SC", "Songti SC", serif;
  color: var(--text-color);
  overflow-x: hidden;
}

/* --- é£˜é›ªç”»å¸ƒ --- */
#snow-canvas {
  position: fixed;
  inset: 0;
  pointer-events: none; /* ç©¿é€ç‚¹å‡»ï¼Œä¸å½±å“é¡µé¢äº¤äº’ */
  z-index: 1;
}

/* --- ğŸ”’ é”å±ç•Œé¢ --- */
#lock-screen {
  position: fixed;
  inset: 0;
  background: #ffffff;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  transition: opacity 1.2s ease-out;
}

.lock-box {
  text-align: center;
}

.heart-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  animation: heartbeat 1.5s infinite ease-in-out;
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.15); }
}

.lock-box input {
  padding: 12px;
  border: 1px solid #eeeeee;
  border-radius: 8px;
  width: 240px;
  text-align: center;
  font-size: 16px;
  outline: none;
  background: #fafafa;
  transition: border 0.3s;
}

.lock-box input:focus {
  border-color: var(--accent-color);
}

.lock-box button {
  display: block;
  margin: 25px auto;
  padding: 12px 50px;
  background: var(--accent-color);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  font-weight: bold;
  letter-spacing: 2px;
  transition: transform 0.2s;
}

.lock-box button:active {
  transform: scale(0.95);
}

/* --- ğŸ’Œ ä¿¡å°å†…å®¹å®¹å™¨ --- */
#main-wrapper {
  position: relative;
  z-index: 2;
  display: flex;
  justify-content: center;
  padding: 80px 20px; /* é¡¶éƒ¨ç•™ç™½å¤šä¸€ç‚¹ï¼Œæ›´æœ‰å‘¼å¸æ„Ÿ */
  min-height: 100vh;
}

#letter-container {
  width: 100%;
  max-width: 620px;
  opacity: 0;
  transform: translateY(60px);
  transition: all 1.5s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* å½“æ·»åŠ  open ç±»åæ—¶ï¼Œä¿¡ä»¶å‘ä¸Šæ»‘å…¥æ˜¾ç¤º */
#letter-container.open {
  opacity: 1;
  transform: translateY(0);
}

/* --- ğŸ“„ ä¿¡çº¸è´¨æ„Ÿè®¾ç½® --- */
.letter-paper {
  background: var(--paper-color);
  /* åˆ¶ä½œéå¸¸æµ…çš„æ¨ªçº¿çº¹ç†ï¼Œåƒå®ä½“ä¿¡çº¸ */
  background-image: linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
  background-size: 100% 2.3rem; /* å¯¹åº”æ–‡å­—è¡Œé«˜ */
  padding: 60px 50px 150px 50px; /* åº•éƒ¨å¤§ç•™ç™½ï¼Œç¡®ä¿å­—å¹•æ»šåŠ¨æ•ˆæœ */
  border-radius: 2px;
  box-shadow: 0 15px 45px rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(0,0,0,0.02);
  min-height: 70vh;
}

/* --- âœï¸ å­—å¹•å¼æ‰“å­—æ•ˆæœæ’ç‰ˆ --- */
#typing-container {
  font-size: 1.15rem;
  line-height: 2.3; /* å¯¹åº”èƒŒæ™¯çº¿æ¡é«˜åº¦ */
  letter-spacing: 0.08em;
  text-align: justify;
}

.typing-line {
  margin-bottom: 10px;
  min-height: 1.2em;
}

/* ğŸ–‹ï¸ æ‰“å­—æœºå…‰æ ‡ */
.typing-line.active::after {
  content: " ğŸ–‹ï¸";
  color: var(--accent-color);
  font-size: 1.1rem;
  animation: blink 0.8s infinite;
  margin-left: 4px;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

/* --- ğŸ“¸ ç»“å°¾ç…§ç‰‡ --- */
#final-photo {
  margin-top: 60px;
  display: none;
  text-align: center;
  opacity: 0;
  transition: opacity 2.5s ease-in;
}

#final-photo.show {
  display: block;
  opacity: 1;
}

#final-photo img {
  max-width: 100%;
  border: 12px solid #ffffff; /* ç»å…¸ç›¸æ¡†æ•ˆæœ */
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  transform: rotate(-1deg); /* éšæ„çš„æ‘†æ”¾æ„Ÿ */
}

.photo-date {
  font-size: 0.9rem;
  color: #999999;
  margin-top: 15px;
  font-style: italic;
  letter-spacing: 1px;
}

/* --- ğŸ“± ç§»åŠ¨ç«¯å°å±å¹•é€‚é… --- */
@media (max-width: 600px) {
  #main-wrapper {
    padding: 40px 15px;
  }
  .letter-paper {
    padding: 45px 25px 120px 25px; /* æ‰‹æœºç«¯å‡å°å·¦å³å†…è¾¹è· */
  }
  #typing-container {
    font-size: 1.05rem;
    line-height: 2.1;
  }
  .letter-paper {
    background-size: 100% 2.1rem;
  }
}